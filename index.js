(()=>{"use strict";var e,n,t,o,r,a,i,l,d,c,s,u,p,m,g,b,f,h,v,x,y,_,k,w,E,L,B,I,A={837:(e,n,t)=>{t.d(n,{Z:()=>a});var o=t(645),r=t.n(o)()((function(e){return e[1]}));r.push([e.id,":root{--background-body:#fff;--background:#efefef;--background-alt:#f7f7f7;--selection:#9e9e9e;--text-main:#363636;--text-bright:#000;--text-muted:#70777f;--links:#0076d1;--focus:rgba(0,150,191,0.67);--border:#dbdbdb;--code:#000;--animation-duration:0.1s;--button-hover:#ddd;--scrollbar-thumb:#d5d5d5;--scrollbar-thumb-hover:#c4c4c4;--form-placeholder:#949494;--form-text:#000;--variable:#39a33c;--highlight:#ff0;--select-arrow:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' height='63' width='117' fill='%23161f27'%3E%3Cpath d='M115 2c-1-2-4-2-5 0L59 53 7 2a4 4 0 00-5 5l54 54 2 2 3-2 54-54c2-1 2-4 0-5z'/%3E%3C/svg%3E\")}html{scrollbar-color:#d5d5d5 #fff;scrollbar-color:var(--scrollbar-thumb) var(--background-body);scrollbar-width:thin}body{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Segoe UI Emoji,Apple Color Emoji,Noto Color Emoji,sans-serif;line-height:1.4;max-width:800px;margin:20px auto;padding:0 10px;word-wrap:break-word;color:#363636;color:var(--text-main);background:#fff;background:var(--background-body);text-rendering:optimizeLegibility}button,input,textarea{transition:background-color .1s linear,border-color .1s linear,color .1s linear,box-shadow .1s linear,transform .1s ease;transition:background-color var(--animation-duration) linear,border-color var(--animation-duration) linear,color var(--animation-duration) linear,box-shadow var(--animation-duration) linear,transform var(--animation-duration) ease}h1{font-size:2.2em;margin-top:0}h1,h2,h3,h4,h5,h6{margin-bottom:12px;margin-top:24px}h1,h2,h3,h4,h5,h6,strong{color:#000;color:var(--text-bright)}b,h1,h2,h3,h4,h5,h6,strong,th{font-weight:600}q:after,q:before{content:none}blockquote,q{border-left:4px solid rgba(0,150,191,.67);border-left:4px solid var(--focus);margin:1.5em 0;padding:.5em 1em;font-style:italic}blockquote>footer{font-style:normal;border:0}address,blockquote cite{font-style:normal}a[href^=mailto\\:]:before{content:\"ðŸ“§ \"}a[href^=tel\\:]:before{content:\"ðŸ“ž \"}a[href^=sms\\:]:before{content:\"ðŸ’¬ \"}mark{background-color:#ff0;background-color:var(--highlight);border-radius:2px;padding:0 2px;color:#000}button,input[type=button],input[type=checkbox],input[type=radio],input[type=range],input[type=submit],select{cursor:pointer}input:not([type=checkbox]):not([type=radio]),select{display:block}button,input,select,textarea{color:#000;color:var(--form-text);background-color:#efefef;background-color:var(--background);font-family:inherit;font-size:inherit;margin-right:6px;margin-bottom:6px;padding:10px;border:none;border-radius:6px;outline:none}input[type=checkbox],input[type=radio]{height:1em;width:1em}input[type=radio]{border-radius:100%}input{vertical-align:top}label{vertical-align:middle;margin-bottom:4px;display:inline-block}button,input:not([type=checkbox]):not([type=radio]),input[type=range],select,textarea{-webkit-appearance:none}textarea{display:block;margin-right:0;box-sizing:border-box;resize:vertical}textarea:not([cols]){width:100%}textarea:not([rows]){min-height:40px;height:140px}select{background:#efefef url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' height='63' width='117' fill='%23161f27'%3E%3Cpath d='M115 2c-1-2-4-2-5 0L59 53 7 2a4 4 0 00-5 5l54 54 2 2 3-2 54-54c2-1 2-4 0-5z'/%3E%3C/svg%3E\") calc(100% - 12px) 50%/12px no-repeat;background:var(--background) var(--select-arrow) calc(100% - 12px) 50%/12px no-repeat;padding-right:35px}select::-ms-expand{display:none}select[multiple]{padding-right:10px;background-image:none;overflow-y:auto}button,input[type=button],input[type=submit]{padding-right:30px;padding-left:30px}button:hover,input[type=button]:hover,input[type=submit]:hover{background:#ddd;background:var(--button-hover)}button:focus,input:focus,select:focus,textarea:focus{box-shadow:0 0 0 2px rgba(0,150,191,.67);box-shadow:0 0 0 2px var(--focus)}button:active,input[type=button]:active,input[type=checkbox]:active,input[type=radio]:active,input[type=range]:active,input[type=submit]:active{transform:translateY(2px)}button:disabled,input:disabled,select:disabled,textarea:disabled{cursor:not-allowed;opacity:.5}::-moz-placeholder{color:#949494;color:var(--form-placeholder)}:-ms-input-placeholder{color:#949494;color:var(--form-placeholder)}::-ms-input-placeholder{color:#949494;color:var(--form-placeholder)}::placeholder{color:#949494;color:var(--form-placeholder)}fieldset{border:1px solid rgba(0,150,191,.67);border:1px solid var(--focus);border-radius:6px;margin:0 0 12px;padding:10px}legend{font-size:.9em;font-weight:600}input[type=range]{margin:10px 0;padding:10px 0;background:transparent}input[type=range]:focus{outline:none}input[type=range]::-webkit-slider-runnable-track{width:100%;height:9.5px;-webkit-transition:.2s;transition:.2s;background:#efefef;background:var(--background);border-radius:3px}input[type=range]::-webkit-slider-thumb{box-shadow:0 1px 1px #000,0 0 1px #0d0d0d;height:20px;width:20px;border-radius:50%;background:#dbdbdb;background:var(--border);-webkit-appearance:none;margin-top:-7px}input[type=range]:focus::-webkit-slider-runnable-track{background:#efefef;background:var(--background)}input[type=range]::-moz-range-track{width:100%;height:9.5px;-moz-transition:.2s;transition:.2s;background:#efefef;background:var(--background);border-radius:3px}input[type=range]::-moz-range-thumb{box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;height:20px;width:20px;border-radius:50%;background:#dbdbdb;background:var(--border)}input[type=range]::-ms-track{width:100%;height:9.5px;background:transparent;border-color:transparent;border-width:16px 0;color:transparent}input[type=range]::-ms-fill-lower,input[type=range]::-ms-fill-upper{background:#efefef;background:var(--background);border:.2px solid #010101;border-radius:3px;box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d}input[type=range]::-ms-thumb{box-shadow:1px 1px 1px #000,0 0 1px #0d0d0d;border:1px solid #000;height:20px;width:20px;border-radius:50%;background:#dbdbdb;background:var(--border)}input[type=range]:focus::-ms-fill-lower,input[type=range]:focus::-ms-fill-upper{background:#efefef;background:var(--background)}a{text-decoration:none;color:#0076d1;color:var(--links)}a:hover{text-decoration:underline}code,samp,time{background:#efefef;background:var(--background);color:#000;color:var(--code);padding:2.5px 5px;border-radius:6px;font-size:1em}pre>code{padding:10px;display:block;overflow-x:auto}var{color:#39a33c;color:var(--variable);font-style:normal;font-family:monospace}kbd{background:#efefef;background:var(--background);border:1px solid #dbdbdb;border:1px solid var(--border);border-radius:2px;color:#363636;color:var(--text-main);padding:2px 4px}img,video{max-width:100%;height:auto}hr{border:none;border-top:1px solid #dbdbdb;border-top:1px solid var(--border)}table{border-collapse:collapse;margin-bottom:10px;width:100%;table-layout:fixed}table caption,td,th{text-align:left}td,th{padding:6px;vertical-align:top;word-wrap:break-word}thead{border-bottom:1px solid #dbdbdb;border-bottom:1px solid var(--border)}tfoot{border-top:1px solid #dbdbdb;border-top:1px solid var(--border)}tbody tr:nth-child(2n){background-color:#f7f7f7;background-color:var(--background-alt)}::-webkit-scrollbar{height:10px;width:10px}::-webkit-scrollbar-track{background:#efefef;background:var(--background);border-radius:6px}::-webkit-scrollbar-thumb{background:#d5d5d5;background:var(--scrollbar-thumb);border-radius:6px}::-webkit-scrollbar-thumb:hover{background:#c4c4c4;background:var(--scrollbar-thumb-hover)}::-moz-selection{background-color:#9e9e9e;background-color:var(--selection);color:#000;color:var(--text-bright)}::selection{background-color:#9e9e9e;background-color:var(--selection);color:#000;color:var(--text-bright)}details{display:flex;flex-direction:column;align-items:flex-start;background-color:#f7f7f7;background-color:var(--background-alt);padding:10px 10px 0;margin:1em 0;border-radius:6px;overflow:hidden}details[open]{padding:10px}details>:last-child{margin-bottom:0}details[open] summary{margin-bottom:10px}summary{display:list-item;background-color:#efefef;background-color:var(--background);padding:10px;margin:-10px -10px 0;cursor:pointer;outline:none}summary:focus,summary:hover{text-decoration:underline}details>:not(summary){margin-top:0}summary::-webkit-details-marker{color:#363636;color:var(--text-main)}footer{border-top:1px solid #dbdbdb;border-top:1px solid var(--border);padding-top:10px;color:#70777f;color:var(--text-muted)}body>footer{margin-top:40px}@media print{body,button,code,details,input,pre,summary,textarea{background-color:#fff}button,input,textarea{border:1px solid #000}body,button,code,footer,h1,h2,h3,h4,h5,h6,input,pre,strong,summary,textarea{color:#000}summary::marker{color:#000}summary::-webkit-details-marker{color:#000}tbody tr:nth-child(2n){background-color:#f2f2f2}a{color:#00f;text-decoration:underline}}\n",""]);const a=r},424:(e,n,t)=>{t.d(n,{Z:()=>l});var o=t(645),r=t.n(o),a=t(837),i=r()((function(e){return e[1]}));i.i(a.Z),i.push([e.id,':root {\n  --selection-color: brown;\n\n  --solve-color-1: RGBA(255, 155, 155, 0.8);\n  --solve-color-2: RGBA(155, 255, 155, 0.8);\n  --solve-color-3: RGBA(155, 155, 255, 0.8);\n  --solve-color-4: RGBA(243, 179, 71, 0.8);\n  --solve-color-5: RGBA(71, 243, 179, 0.8);\n  --solve-color-6: RGBA(179, 71, 243, 0.8);\n  --solve-color-7: RGBA(200, 200, 0, 0.8);\n  --solve-color-8: RGBA(200, 0, 200, 0.8);\n  --solve-color-9: RGBA(0, 200, 200, 0.8);\n}\n\nbody{\n  font-family: Avenir, Heveltica, sans-serif;\n}\nli:nth-child(n):nth-child(-n+9) {\n  border-top-width: 4px;\n}\nli:nth-child(n+73):nth-child(-n+81) {\n  border-bottom-width: 4px;\n}\nli:nth-child(3n) {\n  border-right-width: 4px;\n}\nli:nth-child(9n+1) {\n  border-left-width: 4px;\n}\nli:nth-child(n+19):nth-child(-n+27) {\n  border-bottom-width: 4px;\n}\nli:nth-child(n+46):nth-child(-n+54) {\n  border-bottom-width: 4px;\n}\n\nul {\n  display: grid;\n  grid-template-columns: repeat(9, min(5rem, 10vh));\n  grid-template-rows: repeat(9, min(5rem, 10vh));\n  justify-content: center;\n  align-content: center;\n  grid-gap: 0rem;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  font-size: calc(min(5rem, 10vh)/1.75);\n}\nli {\n  margin: 0;\n  padding: 0;\n  text-align: center;\n  border: 1px solid black;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n}\n\n.note {\n  background: #ddd;\n  font-family: monospace;\n  padding: 2em 5em;\n  font-size: 120%;\n  order: -1;\n}\n@supports (display:grid) {\n  .note {display:none;}\n}\n\nspan {\n  user-select: none;\n}\n\n.clue {\n}\n\n.human{\n  color: gray;\n}\n\n.computer {\n  color: DarkTurquoise;\n}\n\n.selected {\n  background-color: RGBA(247, 244, 134, 0.8);\n}\n\n.middle-cell {\n  font-size: calc(min(5rem, 10vh)/4);\n  overflow-wrap: anywhere;\n}\n\n.corner-cell {\n  font-size: calc(min(5rem, 10vh)/4);\n  position: absolute;\n}\n\n.top-left {\n  top: 0%;\n  left: 0%;\n}\n\n.top-middle {\n  top: 0%;\n  left: 50%;\n  transform: translate(-50%, 0);\n}\n\n.top-right {\n  top: 0;\n  right: 0;\n}\n\n.middle-left {\n  top: 50%;\n  left: 0;\n  transform: translate(0, -50%);\n}\n\n.middle-right{\n  top: 50%;\n  right: 0;\n  transform: translate(0, -50%);\n}\n\n.bottom-left{\n  bottom: 0;\n  left: 0;\n}\n\n.bottom-right {\n  bottom: 0;\n  right: 0;\n}\n\n.bottom-middle-1 {\n  bottom: 0;\n  left: 35%;\n  transform: translate(-50%, 0);\n}\n\n.bottom-middle-2 {\n  bottom: 0;\n  left: 65%;\n  transform: translate(-50%, 0);\n}\n\n.sudoku-container {\n  display: flex;\n  justify-content: center;\n  padding: 0;\n  margin: 0 0 2vw;\n}\n\n.sudoku {\n  flex-grow: 2;\n  position:relative;\n  display: inline-block;\n  padding: 0;\n  margin-bottom: 0;\n}\n\n.sudoku-side {\n  width: 25vw;\n  flex-grow: 1;\n  flex-shrink: 0;\n  padding-left: 2.5vw;\n  padding-right: 2.5vw;\n}\n\n.svg {\n  z-index: -1;\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n}\n\n.diag {\n  z-index: -3;\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n}\n\n.diag-neg {\n  background-image: linear-gradient(\n    45deg,\n    transparent,\n    transparent 49.6%,\n    grey 49.8%,\n    grey 50.2%,\n    transparent 50.4%,\n    transparent\n  );\n}\n\n.diag-pos {\n  background-image: linear-gradient(\n    135deg,\n    transparent,\n    transparent 49.6%,\n    grey 49.8%,\n    grey 50.2%,\n    transparent 50.4%,\n    transparent\n  );\n}\n\nbutton {\n  margin: 0.2rem;\n}\n\n.row {\n  display: flex;\n  flex-direction: row;\n}\n\n.column {\n  display: flex;\n  flex-direction: column;\n}\n\n.keyboard {\n  display: grid;\n  grid-template-columns: repeat(3, 4rem);\n  grid-template-rows: repeat(4, 4rem);\n}\n\n.keyboard-container button {\n  padding: 0px;\n}\n\n.keyboard button {\n  font-size: 2rem;\n}\n\n.middle-cell button {\n  font-size: 1.4rem;\n}\n\n#corner-number button {\n  position: relative;\n  font-size: 1.4rem;\n}\n\n#corner-number button span {\n  position:absolute;\n}\n\n#color button:nth-child(1) {\n  background-color: var(--solve-color-1);\n}\n#color button:nth-child(2) {\n  background-color: var(--solve-color-2);\n}\n#color button:nth-child(3) {\n  background-color: var(--solve-color-3);\n}\n#color button:nth-child(4) {\n  background-color: var(--solve-color-4);\n}\n#color button:nth-child(5) {\n  background-color: var(--solve-color-5);\n}\n#color button:nth-child(6) {\n  background-color: var(--solve-color-6);\n}\n#color button:nth-child(7) {\n  background-color: var(--solve-color-7);\n}\n#color button:nth-child(8) {\n  background-color: var(--solve-color-8);\n}\n#color button:nth-child(9) {\n  background-color: var(--solve-color-9);\n}\n\n.delete {\n  grid-column-start: 1;\n  grid-column-end: span 3;\n}\n\n.hidden {\n  display: none;\n}\n\n/* Toggle button */\n.toggle-on {\n  background-color: LightGreen;\n}\n\n.toggle-on:not(.toggle-no-addon)::after {\n  content: ": On";\n}\n\n.toggle-off {\n  background-color: LightCoral;\n}\n\n.toggle-off:not(.toggle-no-addon)::after {\n  content: ": Off";\n}\n\n.toggle-edit {\n  background-color: DeepSkyBlue;\n}\n\n.toggle-edit:not(.toggle-no-addon)::after {\n  content: ": Edit";\n}\n\n.merge_button {\n  white-space: nowrap;\n}\n\n.merge_button button:first-child {\n  margin-right: 0px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n\n.merge_button button:last-child {\n  margin-left: 0px;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  padding-left: 15px;\n  padding-right: 15px;\n}\n',""]);const l=i},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(r[i]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);o&&r[d[0]]||(t&&(d[2]?d[2]="".concat(t," and ").concat(d[2]):d[2]=t),n.push(d))}},n}},379:(e,n,t)=>{var o,r=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),a=[];function i(e){for(var n=-1,t=0;t<a.length;t++)if(a[t].identifier===e){n=t;break}return n}function l(e,n){for(var t={},o=[],r=0;r<e.length;r++){var l=e[r],d=n.base?l[0]+n.base:l[0],c=t[d]||0,s="".concat(d," ").concat(c);t[d]=c+1;var u=i(s),p={css:l[1],media:l[2],sourceMap:l[3]};-1!==u?(a[u].references++,a[u].updater(p)):a.push({identifier:s,updater:b(p,n),references:1}),o.push(s)}return o}function d(e){var n=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var a=t.nc;a&&(o.nonce=a)}if(Object.keys(o).forEach((function(e){n.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(n);else{var i=r(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}return n}var c,s=(c=[],function(e,n){return c[e]=n,c.filter(Boolean).join("\n")});function u(e,n,t,o){var r=t?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=s(n,r);else{var a=document.createTextNode(r),i=e.childNodes;i[n]&&e.removeChild(i[n]),i.length?e.insertBefore(a,i[n]):e.appendChild(a)}}function p(e,n,t){var o=t.css,r=t.media,a=t.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var m=null,g=0;function b(e,n){var t,o,r;if(n.singleton){var a=g++;t=m||(m=d(n)),o=u.bind(null,t,a,!1),r=u.bind(null,t,a,!0)}else t=d(n),o=p.bind(null,t,n),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return o(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;o(e=n)}else r()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var t=l(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<t.length;o++){var r=i(t[o]);a[r].references--}for(var d=l(e,n),c=0;c<t.length;c++){var s=i(t[c]);0===a[s].references&&(a[s].updater(),a.splice(s,1))}t=d}}}},967:(e,n,t)=>{var o=t(379),r=t.n(o),a=t(424);function i(e,n){e?(n.classList.add("toggle-on"),n.classList.remove("toggle-off")):(n.classList.remove("toggle-on"),n.classList.add("toggle-off"))}r()(a.Z,{insert:"head",singleton:!1}),a.Z.locals,t.e(56).then(t.bind(t,56)).then((e=>{document.getElementById("new").onclick=function(){Ie(e.generate(),"clue"),Be()}}));var l=!1,d=new Array,c=new Array,s=new Array,u=new Array,p=document.getElementById("count"),m="setter",g=document.getElementById("app_mode"),b="selection",f=new Map,h=new Map,v=new Map,x=new Map,y=new Map,_="normal",k=document.getElementById("key_number"),w=document.getElementById("key_middle"),E=document.getElementById("key_corner"),L=document.getElementById("key_color"),B=document.getElementById("number"),I=document.getElementById("middle-number"),A=document.getElementById("corner-number"),M=document.getElementById("color"),S=document.getElementById("setter-side"),T=new Set,z=document.getElementById("save"),C=!1,N=document.getElementById("diag_pos_vis"),j=!1,H=document.getElementById("diag_neg_vis"),O=!1,R=document.getElementById("diag_pos_button"),W=document.getElementById("diag_neg_button"),U=document.getElementById("king_button"),P=document.getElementById("solving_url"),G=document.getElementById("setting_url"),$=document.getElementById("sudokuwiki"),q=new class{constructor(e){this.prefix=e,this.storage=window.localStorage,this.boolean_options=new Map,this.number_options=new Map}get(e,n=null){return this.storage.getItem(e)||n}get_bool(e,n=null){var t=this.get(e);return null==t?n:"true"==t}get_number(e,n=null){var t=this.get(e);return null==t?n:parseInt(t)}set(e,n){this.storage.setItem(e,n)}set_default(e,n){null==this.storage.getItem(e)&&this.set(e,n)}add_boolean_option(e,n,t){this.set_default(e,n);var o=this.get_bool(e);t.onclick=()=>{var n=!this.get_bool(e);this.set(e,n),i(n,t)},i(o,t),this.boolean_options.set(e,t)}add_number_option(e,n,t){this.set_default(e,n);var o=this.get_number(e);t.value=o,t.onchange=()=>{var n=t.value;this.set(e,n)},t.value=o,this.number_options.set(e,t)}update(){for(const[e,n]in this.boolean_options)i(this.get_bool(e),n);for(const[e,n]in this.number_options);}};q.add_boolean_option("hide_setter",!1,document.getElementById("hide_setter")),q.add_boolean_option("count_after_solve",!1,document.getElementById("count_after_solve")),q.add_number_option("solution_count_limit",1e4,document.getElementById("solution_count_limit")),q.add_number_option("solve_limit",1e3,document.getElementById("solve_limit")),q.add_number_option("solve_max_middle_number",4,document.getElementById("solve_max_middle_number"));var D=document.getElementById("puzzle_name"),F=document.getElementById("puzzle_name_edit"),Z=document.getElementById("puzzle_author"),V=document.getElementById("puzzle_author_edit"),X=document.getElementById("puzzle_message"),K=document.getElementById("puzzle_message_edit"),Y=document.getElementById("puzzle_variant_rule"),J=document.getElementById("thermo"),Q=J.children[0],ee=J.children[1],ne=new Array,te=document.getElementById("solve"),oe=document.getElementById("solve_result_message"),re=document.getElementById("solve_result_message_text");function ae(e){var n=f.get(b);n&&n(e)}function ie(e){var n=x.get(b);n&&n(e)}function le(e,n){var t=y.get(b);t&&(t(),ie()),b=b==e?n:e}function de(e,n){n=parseInt(n)||n;var t=d[e].parentNode,o=u[e],r="";if("Delete"!=n&&"Backspace"!=n){var a=o.indexOf(n);a>=0?o.splice(a,1):n>=1&&n<=9&&(o.push(n),o.sort())}else o=new Array;if(1==o.length)r=`background-color: var(--solve-color-${o[0]});`;else if(o.length>1){r="background: conic-gradient(";for(var i=o.length,l=360/i,c=0;c<i;c++)0!=c&&(r+=","),r+=`var(--solve-color-${o[c]}) ${c*l}deg ${(c+1)*l}deg`;r+=");"}t.style=r,u[e]=o}function ce(){i(C,R),C?N.classList.add("diag","diag-pos"):N.classList.remove("diag-pos"),i(j,W),j?H.classList.add("diag","diag-neg"):H.classList.remove("diag-neg"),i(O,U);var e=Q.classList;"thermo"==b?(e.remove("toggle-on","toggle-off"),e.add("toggle-edit")):0==ne.length?(e.remove("toggle-edit","toggle-on"),e.add("toggle-off")):(e.remove("toggle-edit","toggle-off"),e.add("toggle-on")),e=ee.classList,"thermo_delete"==b?(ee.removeAttribute("disabled"),e.remove("toggle-on","disabled"),e.add("toggle-edit")):0==ne.length?(ee.setAttribute("disabled",null),e.remove("toggle-edit","toggle-on")):(ee.removeAttribute("disabled"),e.remove("toggle-edit","disabled"),e.add("toggle-on")),q.update(),D.innerHTML=F.value||"Sudoku",""!=V.value?(Z.classList.remove("hidden"),Z.innerHTML="by "+V.value):Z.classList.add("hidden"),X.innerHTML=K.value;var n="";function t(e,n,t){_==e?(n.classList.add("toggle-on"),n.classList.remove("toggle-off"),t.classList.remove("hidden")):(n.classList.remove("toggle-on"),n.classList.add("toggle-off"),t.classList.add("hidden"))}(j||C)&&(n+="Number on a shown diagonal cannot be repeated on that diagonal. "),O&&(n+="Two cells cannot contain the same number if a king could move between them in one move. "),0!=ne.length&&(n+="The number are growing along a thermometer from the bubble to the tip. "),Y.innerHTML=n,t("normal",k,B),t("middle",w,I),t("corner",E,A),t("color",L,M)}function se(e){if("color"!=_){e=parseInt(e)||e;var n="setter"==m?"clue":"human";if(Number.isInteger(e)&&e>=1&&e<=9){for(let t of T)ue(t)&&Ae(t,e,n,_);ke()}else if("Delete"==e||"Backspace"==e){for(let e of T)ue(e)&&Ae(e,"",n);ke()}else console.log("unhandled event",e)}else!function(e){for(let n of T)de(n,e)}(e)}function ue(e){if("setter"==m)return!0;if("solver"==m)return!d[e].classList.contains("clue");throw"unknown app_mode"}function pe(e=!1){m="setter"==m?"solver":"setter",g.innerHTML=m,(e||q.get_bool("hide_setter",!1))&&"setter"!=m?S.classList.add("hidden"):S.classList.remove("hidden"),ke()}function me(){for(var e=0;e<d.length;e++)Ae(e,"","computer");ke()}function ge(){for(var e=0;e<d.length;e++)Ae(e,"","human");ke()}function be(){for(var e=0;e<d.length;e++)Ae(e,"","clue");O=!1,C=!1,j=!1,ne=new Array,Be(),ke(),ce(),ze()}function fe(e){for(var n="",t=0;t<81;t++)e(d[t],d[t].innerHTML)?n+=d[t].innerHTML:n+=".";return n}function he(){var e="";for(var n in C&&(e+=";diag_pos"),j&&(e+=";diag_neg"),O&&(e+=";king"),ne){var t=ne[n];for(var o in e+=";thermo",t)e+="|"+t[o]}return e}function ve(){return fe(((e,n)=>""!=n))}function xe(){return ve()+he()}function ye(e=!0){var n="clue"+fe((e=>e.classList.contains("clue"))),t="";return e&&(t=";human"+fe((e=>e.classList.contains("human")))),n+t+he()+function(){var e="";function n(n,t){t.value&&(e+="&"+n+"="+encodeURIComponent(F.value))}return n("name",F),n("author",V),n("message",K),e}()}function _e(e){C=!1,j=!1,O=!1,ne=new Array,e.split(";").forEach((e=>{if(e.startsWith("clue"))Ie(e.slice(4),"clue");else if(e.startsWith("human"))Ie(e.slice(5),"human");else if(e.startsWith("diag_pos"))C=!0;else if(e.startsWith("diag_neg"))j=!0;else if(e.startsWith("king"))O=!0;else if(e.startsWith("thermo")){var n=new Array;e.split("|").forEach((e=>{null!=(e=parseInt(e)||null)&&n.push(e)})),ne.push(n)}})),ce(),ke(),ze()}function ke(){var e=ye();z!==document.activeElement&&(z.value=e),Ee(),"setter"==m&&je.postMessage(["solve_count",xe(),q.get_number("solution_count_limit",1e4)])}function we(e=null){return null!=e||l?"&solve":""}function Ee(){var e=window.location.href.split("?")[0]+"?data=",n=e+ye()+we();window.history.replaceState({},"",n),G.href=e+ye(),P.href=e+ye(!1)+we(!0),$.href="https://www.sudokuwiki.org/sudoku.htm?bd="+ve()}function Le(){je.postMessage(["solve_common",xe(),q.get_number("solve_limit",1e3)]),Be("Solving...")}function Be(e){null!=e?(oe.classList.remove("hidden"),re.innerHTML=e):oe.classList.add("hidden")}function Ie(e,n="human"){for(var t=0;t<81;t++){var o=e[t];void 0!==o&&"."!==o||(o=""),Ae(t,o,n)}ke()}function Ae(e,n="",t="human",o=null){null==o&&(o=_),"middle"==o&&"clue"==t&&(t="human");var r=null;switch(o){case"normal":r=d;break;case"middle":r=c;break;case"corner":r=s}var a=r[e],i=a.classList||null;if("normal"==o||""==d[e].innerHTML){if(i)switch(t){case"clue":i.remove("human","computer");break;case"human":if(i.contains("clue"))return;i.remove("computer");break;case"computer":if(i.contains("clue")||i.contains("human"))return;break;default:console.error("UNKNOWN KIND: ",t)}switch(o){case"normal":a.innerHTML=n;break;case"middle":if(""==n){a.innerHTML="";break}(l=a.innerHTML).indexOf(n)>=0?l=l.split(n).join(""):((g=(l+n).split("")).sort(),l=g.join("")),a.innerHTML=l;break;case"corner":var l="";if(""!=n){var u=!1;for(var p in s[e]){var m=s[e][p].innerHTML;m==n?u=!0:l+=m}u||(l+=n)}var g=l.split("");for(var p in g.sort(),l=g.join(""),s[e])s[e][p].innerHTML=l.charAt(p)}if(i&&(""==n?i.remove("clue","human","computer"):i.add(t)),"normal"==o){var b=c[e];for(var p in b.classList.remove("clue","human","computer"),b.innerHTML="",s[e])s[e][p].innerHTML=""}}else console.log("already something better in cell")}function Me(e){var n=(i=e[0])%9*100+50,t=100*Math.floor(i/9)+50,o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttributeNS(null,"r",35),o.setAttributeNS(null,"cx",n),o.setAttributeNS(null,"cy",t),o.setAttributeNS(null,"stroke","FireBrick"),o.setAttributeNS(null,"stroke-width","4"),o.setAttributeNS(null,"fill","rgb(255,255,255)");for(var r=`M ${n},${t} `,a=1;a<e.length;a++){var i;r+=`L ${n=(i=e[a])%9*100+50}, ${t=100*Math.floor(i/9)+50}`}var l=document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttributeNS(null,"d",r),l.setAttributeNS(null,"fill","none"),l.setAttributeNS(null,"stroke","FireBrick"),l.setAttributeNS(null,"stroke-width","12"),l.setAttributeNS(null,"stroke-linejoin","round"),l.setAttributeNS(null,"stroke-linecap","round"),thermo_svg.appendChild(l),thermo_svg.appendChild(o)}function Se(e){var n=new Array;n.push(e),ne.push(n)}function Te(e){var n=ne[ne.length-1],t=-1!=n.indexOf(e);if(n.length<9&&!t){var o=n[n.length-1],r=o%9,a=Math.trunc(o/9),i=e%9,l=Math.trunc(e/9);Math.abs(i-r)<=1&&Math.abs(l-a)<=1&&n.push(e)}}function ze(e){thermo_svg.innerHTML="";for(const e in ne)Me(ne[e]);0==ne.length&&(b="selection"),ce(),ke()}function Ce(e){for(var n=ne.length-1;n>=0;n--)if(ne[n].indexOf(e)>=0){ne.splice(n,1);break}}function Ne(){for(var e=0;e<ne.length;e++)1==ne[e].length&&(ne.splice(e,1),e--)}var je=new Worker(new URL(t.p+t.u(660),t.b));je.onmessage=function(e){if("solve_count"==(e=e.data)[0])p.innerHTML=e[1];else if("solve_common"==e[0]){console.log(e[1]);var n=e[1].split(";"),t=null;if(1==n.length)t=n[0];else{for(var o=q.get_number("solve_max_middle_number",4),r=!0,a=0;a<81;a++){var i=n[a];if(0==i.length)console.error("Impossible situation on cell: ",a,n);else if(1==i.length)r=!1,Ae(a,i,"computer","normal");else if(i.length<=o){r=!1,Ae(a,"","computer","normal");for(var l=0;l<i.length;l++)Ae(a,i[l],"computer","middle")}}r&&(t="Too many possibilities on every cell")}Be(t),q.get_bool("count_after_solve",!1)&&ke()}else console.error("Message not handled: ",e)},function(){te.onclick=Le,document.getElementById("clear_computer").onclick=me,document.getElementById("clear").onclick=ge,document.getElementById("reset").onclick=be,document.getElementById("app_mode_button").onclick=e=>pe(),R.onclick=e=>{C=!C,ce(),ke()},W.onclick=e=>{j=!j,ce(),ke()},U.onclick=e=>{O=!O,ce(),ke()},Q.onclick=e=>{le("thermo","selection"),ce(),ke()},ee.onclick=e=>{le("thermo_delete","selection"),ce(),ke()};var e=Array.from(B.children).concat(Array.from(I.children));for(let n=0;n<e.length;n++){let t=e[n];t.onclick=e=>{se(t.innerHTML)}}function n(e,n,t){e.onclick=e=>{_=n,ce()}}Array.from(A.children).forEach((e=>{e.onclick=n=>{se(e.children[0].innerHTML)}})),Array.from(M.children).forEach(((e,n)=>{e.onclick=t=>{se(n<9?n+1:e.innerHTML)}})),n(k,"normal"),n(w,"middle"),n(E,"corner"),n(L,"color")}(),function(){var e=!1,n=null;function t(e){return n=>{var t,o,r;t=e,o=n.shiftKey,(r=v.get(b))&&r(t,o),ae(e),ie(e)}}function o(t){return o=>{n=t,setTimeout((()=>{t==n&&e&&(ae(t),ie(t),n=null)}),20)}}f.set("selection",(e=>T.add(e))),v.set("selection",((e,n)=>{n||T.clear()})),x.set("selection",(()=>function(){for(var e=0;e<d.length;e++){var n=d[e].parentElement;T.has(e)?n.classList.add("selected"):n.classList.remove("selected")}}())),y.set("selection",(()=>T.clear())),f.set("thermo",Te),x.set("thermo",ze),v.set("thermo",Se),h.set("thermo",Ne),v.set("thermo_delete",Ce),x.set("thermo_delete",ze);var r=document.getElementById("sudoku"),a=document.createElement("ul");r.appendChild(a);for(var i=["top-left","top-middle","top-right","middle-left","middle-right","bottom-left","bottom-middle-1","bottom-middle-2","bottom-right"],l=0;l<81;l++){var p=document.createElement("li");a.appendChild(p);var m=document.createElement("span");p.appendChild(m),d.push(m),p.addEventListener("mousedown",t(l)),p.addEventListener("mouseover",o(l));var g=document.createElement("span");p.appendChild(g),c.push(g),g.classList.add("middle-cell");var _=new Array;for(var k in s.push(_),i){var w=i[k],E=document.createElement("span");p.appendChild(E),E.classList.add("corner-cell","human",w),_.push(E)}u.push(new Array)}document.addEventListener("mousedown",(()=>e=!0)),document.addEventListener("mouseup",(()=>{e=!1;var n=h.get(b);n&&(n(),ie())}))}(),z.addEventListener("input",(e=>{z.value!=xe()&&_e(z.value),Ee()})),F.addEventListener("input",ce),V.addEventListener("input",ce),K.addEventListener("input",ce),document.addEventListener("keydown",(e=>{se(e.key)}));var He=new URLSearchParams(window.location.search);function Oe(e,n){var t=He.get(e);t&&(n.value=t)}null!=He.get("solve")&&(l=!0,"setter"==m&&pe(!0),document.getElementById("app_mode_button").remove()),Oe("name",F),Oe("author",V),Oe("message",K);var Re=He.get("data");null!=Re&&_e(Re),ce(),ke()}},M={};function S(e){var n=M[e];if(void 0!==n)return n.exports;var t=M[e]={id:e,loaded:!1,exports:{}};return A[e](t,t.exports,S),t.loaded=!0,t.exports}S.m=A,S.c=M,S.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return S.d(n,{a:n}),n},S.d=(e,n)=>{for(var t in n)S.o(n,t)&&!S.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},S.f={},S.e=e=>Promise.all(Object.keys(S.f).reduce(((n,t)=>(S.f[t](e,n),n)),[])),S.u=e=>e+".js",S.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),S.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),S.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),e={},S.l=(n,t,o,r)=>{if(e[n])e[n].push(t);else{var a,i;if(void 0!==o)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var c=l[d];if(c.getAttribute("src")==n){a=c;break}}a||(i=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,S.nc&&a.setAttribute("nonce",S.nc),a.src=n),e[n]=[t];var s=(t,o)=>{a.onerror=a.onload=null,clearTimeout(u);var r=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(o))),t)return t(o)},u=setTimeout(s.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=s.bind(null,a.onerror),a.onload=s.bind(null,a.onload),i&&document.head.appendChild(a)}},S.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;S.g.importScripts&&(e=S.g.location+"");var n=S.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var t=n.getElementsByTagName("script");t.length&&(e=t[t.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),S.p=e})(),(()=>{S.b=document.baseURI||self.location.href;var e={826:0};S.f.j=(n,t)=>{var o=S.o(e,n)?e[n]:void 0;if(0!==o)if(o)t.push(o[2]);else{var r=new Promise(((t,r)=>o=e[n]=[t,r]));t.push(o[2]=r);var a=S.p+S.u(n),i=new Error;S.l(a,(t=>{if(S.o(e,n)&&(0!==(o=e[n])&&(e[n]=void 0),o)){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;i.message="Loading chunk "+n+" failed.\n("+r+": "+a+")",i.name="ChunkLoadError",i.type=r,i.request=a,o[1](i)}}),"chunk-"+n,n)}};var n=(n,t)=>{var o,r,[a,i,l]=t,d=0;for(o in i)S.o(i,o)&&(S.m[o]=i[o]);for(l&&l(S),n&&n(t);d<a.length;d++)r=a[d],S.o(e,r)&&e[r]&&e[r][0](),e[a[d]]=0},t=self.webpackChunk=self.webpackChunk||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})(),L={},B={135:function(){return{"./sudoku_bg.js":{__wbindgen_string_new:function(e,t){return void 0===n&&(n=S.c[822].exports),n.h4(e,t)},__wbindgen_object_drop_ref:function(e){return void 0===t&&(t=S.c[822].exports),t.ug(e)},__wbg_notify_3b4c6d5787ae9b8a:function(e,n){return void 0===o&&(o=S.c[822].exports),o._r(e,n)},__wbg_log_386a8115a84a780d:function(e){return void 0===r&&(r=S.c[822].exports),r.IZ(e)},__wbg_new_59cb74e423758ede:function(){return void 0===a&&(a=S.c[822].exports),a.h9()},__wbg_stack_558ba5917b466edd:function(e,n){return void 0===i&&(i=S.c[822].exports),i.Dz(e,n)},__wbg_error_4bb6c2a97407129a:function(e,n){return void 0===l&&(l=S.c[822].exports),l.kF(e,n)},__wbg_self_86b4b13392c7af56:function(){return void 0===d&&(d=S.c[822].exports),d.U5()},__wbg_static_accessor_MODULE_452b4680e8614c81:function(){return void 0===c&&(c=S.c[822].exports),c.DA()},__wbg_require_f5521a5b85ad2542:function(e,n,t){return void 0===s&&(s=S.c[822].exports),s.r2(e,n,t)},__wbg_crypto_b8c92eaac23d0d80:function(e){return void 0===u&&(u=S.c[822].exports),u.iY(e)},__wbg_msCrypto_9ad6677321a08dd8:function(e){return void 0===p&&(p=S.c[822].exports),p.mS(e)},__wbindgen_is_undefined:function(e){return void 0===m&&(m=S.c[822].exports),m.XP(e)},__wbg_getRandomValues_dd27e6b0652b3236:function(e){return void 0===g&&(g=S.c[822].exports),g.yX(e)},__wbg_getRandomValues_e57c9b75ddead065:function(e,n){return void 0===b&&(b=S.c[822].exports),b.ae(e,n)},__wbg_randomFillSync_d2ba53160aec6aba:function(e,n,t){return void 0===f&&(f=S.c[822].exports),f.Os(e,n,t)},__wbg_buffer_ebc6c8e75510eae3:function(e){return void 0===h&&(h=S.c[822].exports),h.v3(e)},__wbg_length_317f0dd77f7a6673:function(e){return void 0===v&&(v=S.c[822].exports),v.rX(e)},__wbg_new_135e963dedf67b22:function(e){return void 0===x&&(x=S.c[822].exports),x.XV(e)},__wbg_set_4a5072a31008e0cb:function(e,n,t){return void 0===y&&(y=S.c[822].exports),y.CV(e,n,t)},__wbg_newwithlength_78dc302d31527318:function(e){return void 0===_&&(_=S.c[822].exports),_.wS(e)},__wbg_subarray_34c228a45c72d146:function(e,n,t){return void 0===k&&(k=S.c[822].exports),k.R2(e,n,t)},__wbindgen_throw:function(e,n){return void 0===w&&(w=S.c[822].exports),w.Or(e,n)},__wbindgen_memory:function(){return void 0===E&&(E=S.c[822].exports),E.oH()}}}}},I={56:[135]},S.w={},S.f.wasm=function(e,n){(I[e]||[]).forEach((function(t,o){var r=L[t];if(r)n.push(r);else{var a,i=B[t](),l=fetch(S.p+""+{56:{135:"a61fb4c56fd382800654"}}[e][t]+".module.wasm");a=i instanceof Promise&&"function"==typeof WebAssembly.compileStreaming?Promise.all([WebAssembly.compileStreaming(l),i]).then((function(e){return WebAssembly.instantiate(e[0],e[1])})):"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(l,i):l.then((function(e){return e.arrayBuffer()})).then((function(e){return WebAssembly.instantiate(e,i)})),n.push(L[t]=a.then((function(e){return S.w[t]=(e.instance||e).exports})))}}))},S(967)})();